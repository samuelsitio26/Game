<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <
    <title>Space Invaders - Enhanced Edition</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="gameContainer">
      <!-- Navigation Bar -->
      <nav id="navBar" class="navbar">
        <div class="nav-item active" data-menu="main">🎮 MAIN</div>
        <div class="nav-item" data-menu="settings">⚙️ SETTINGS</div>
        <div class="nav-item" data-menu="controls">🕹️ CONTROLS</div>
        <div class="nav-item" data-menu="about">ℹ️ ABOUT</div>
      </nav>

      <div id="gameUI">
        <div id="score">Score: 0</div>
        <div id="lives">Lives: 3</div>
        <div id="level">Level: 1</div>
      </div>

      <canvas id="gameCanvas" width="800" height="600"></canvas>

      <!-- Main Menu -->
      <div id="startMenu" class="menu">
        <div class="menu-content" id="mainContent">
          <h1>🚀 SPACE INVADERS 🚀</h1>
          <p>Defend Earth from alien invasion!</p>
          <button id="startBtn" onclick="startGame()">🚀 START MISSION</button>
          <button id="quickPlayBtn" onclick="startGame()">⚡ QUICK PLAY</button>
        </div>

        <!-- Settings Menu -->
        <div class="menu-content hidden" id="settingsContent">
          <h2>⚙️ SETTINGS</h2>
          <div class="setting-item">
            <label>🔊 Sound Effects:</label>
            <button id="soundToggle" class="toggle-btn">ON</button>
          </div>
          <div class="setting-item">
            <label>🎵 Background Music:</label>
            <button id="musicToggle" class="toggle-btn">ON</button>
          </div>
          <div class="setting-item">
            <label>🎯 Difficulty:</label>
            <select id="difficultySelect">
              <option value="easy">Easy</option>
              <option value="normal" selected>Normal</option>
              <option value="hard">Hard</option>
            </select>
          </div>
          <div class="setting-item">
            <label>🎨 Graphics:</label>
            <select id="graphicsSelect">
              <option value="low">Low</option>
              <option value="medium" selected>Medium</option>
              <option value="high">High</option>
            </select>
          </div>
          <div class="setting-item">
            <label>🎮 Control Mode:</label>
            <select id="controlSelect">
              <option value="mouse" selected>Mouse Control</option>
              <option value="keyboard">Keyboard Control</option>
              <option value="both">Both (Mouse + Keyboard)</option>
            </select>
          </div>
          <div class="setting-item">
            <label>🖱️ Mouse Active:</label>
            <button id="mouseToggle" class="toggle-btn">ON</button>
          </div>
        </div>

        <!-- Controls Menu -->
        <div class="menu-content hidden" id="controlsContent">
          <h2>🕹️ CONTROLS</h2>
          <div class="controls-grid">
            <div class="control-item">
              <span class="control-key">�️ Mouse</span>
              <span>Move & Click to shoot</span>
            </div>
            <div class="control-item">
              <span class="control-key">← →</span>
              <span>Move Left/Right</span>
            </div>
            <div class="control-item">
              <span class="control-key">SPACE</span>
              <span>Shoot</span>
            </div>
            <div class="control-item">
              <span class="control-key">P</span>
              <span>Pause Game</span>
            </div>
            <div class="control-item">
              <span class="control-key">M</span>
              <span>Mute Audio</span>
            </div>
          </div>
          <div class="powerups-section">
            <h3>Power-ups:</h3>
            <div class="powerups-mini">
              <span>⚡ Rapid Fire</span>
              <span>❤️ Extra Life</span>
              <span>💎 Bonus Points</span>
              <span>🔫 Double Shot</span>
            </div>
          </div>
        </div>

        <!-- About Menu -->
        <div class="menu-content hidden" id="aboutContent">
          <h2>ℹ️ ABOUT GAME</h2>
          <p><strong>Space Invaders Enhanced Edition</strong></p>
          <p>Version 2.0</p>
          <div class="features-list">
            <p>✨ Realistic Graphics</p>
            <p>🎵 Procedural Audio</p>
            <p>�️ Mouse & Touch Control</p>
            <p>👾 Epic Boss Battles</p>
            <p>🏆 Multiple Weapons</p>
          </div>
          <p><small>© 2025 Enhanced by AI Assistant</small></p>
        </div>
      </div>

      <div id="gameOverMenu" class="menu hidden">
        <h1>💀 MISSION FAILED</h1>
        <p id="finalScore">Final Score: 0</p>
        <button id="restartBtn">🔄 RETRY MISSION</button>
        <button id="mainMenuFromGameOverBtn">🏠 MAIN MENU</button>
      </div>

      <div id="winMenu" class="menu hidden">
        <h1>🏆 LEVEL COMPLETE!</h1>
        <p id="winScore">Score: 0</p>
        <button id="nextLevelBtn">➡️ NEXT LEVEL</button>
      </div>

      <div id="pauseMenu" class="menu hidden">
        <h1>⏸️ PAUSED</h1>
        <button id="resumeBtn">▶️ RESUME</button>
        <button id="mainMenuBtn">🏠 MAIN MENU</button>
      </div>
    </div>

    <!-- Audio elements -->
    <audio id="shootSound" preload="auto">
      <source
        src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjc="
        type="audio/wav"
      />
    </audio>
    <audio id="explosionSound" preload="auto">
      <source
        src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjeF0fPWeiwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIYBjc="
        type="audio/wav"
      />
    </audio>

    <script src="script_fixed.js"></script>

    <script>
      // Settings functionality (will sync with script_fixed.js)
      // Note: settings object is already declared in script_fixed.js

      // Navigation functionality
      function showContent(tabName) {
        // Hide all content
        const contents = document.querySelectorAll(".menu-content");
        contents.forEach((content) => content.classList.add("hidden"));

        // Remove active class from all tabs
        const tabs = document.querySelectorAll(".nav-tab");
        tabs.forEach((tab) => tab.classList.remove("active"));

        // Show selected content
        const contentElement = document.getElementById(tabName + "Content");
        if (contentElement) {
          contentElement.classList.remove("hidden");
        }

        // Add active class to clicked tab
        const activeTab = document.querySelector(
          `[onclick="showContent('${tabName}')"]`
        );
        if (activeTab) {
          activeTab.classList.add("active");
        }
      }

      // Settings toggles
      function toggleSetting(settingName) {
        const button = document.getElementById(settingName + "Toggle");
        if (window.settings) {
          window.settings[settingName + "Enabled"] =
            !window.settings[settingName + "Enabled"];
          button.textContent = window.settings[settingName + "Enabled"]
            ? "ON"
            : "OFF";
          button.classList.toggle(
            "off",
            !window.settings[settingName + "Enabled"]
          );
        }
      }

      // Initialize settings
      document.addEventListener("DOMContentLoaded", function () {
        // Set default tab
        showContent("main");

        // Initialize settings buttons
        const soundBtn = document.getElementById("soundToggle");
        const musicBtn = document.getElementById("musicToggle");

        if (soundBtn) {
          soundBtn.addEventListener("click", () => toggleSetting("sound"));
        }

        if (musicBtn) {
          musicBtn.addEventListener("click", () => toggleSetting("music"));
        }

        // Difficulty selector
        const difficultySelect = document.getElementById("difficultySelect");
        if (difficultySelect) {
          difficultySelect.addEventListener("change", function () {
            if (window.settings) {
              window.settings.difficulty = this.value;
            }
          });
        }

        // Graphics selector
        const graphicsSelect = document.getElementById("graphicsSelect");
        if (graphicsSelect) {
          graphicsSelect.addEventListener("change", function () {
            if (window.settings) {
              window.settings.graphics = this.value;
            }
          });
        }

        // Control mode selector
        const controlSelect = document.getElementById("controlSelect");
        if (controlSelect) {
          controlSelect.addEventListener("change", function () {
            if (window.settings) {
              window.settings.controlMode = this.value;
            }
          });
        }

        // Mouse active toggle
        const mouseBtn = document.getElementById("mouseToggle");
        if (mouseBtn) {
          mouseBtn.addEventListener("click", function () {
            if (window.settings) {
              window.settings.mouseActive = !window.settings.mouseActive;
              this.textContent = window.settings.mouseActive ? "ON" : "OFF";
              this.className = window.settings.mouseActive
                ? "toggle-btn"
                : "toggle-btn off";
            }
          });
        }
      });
    </script>
  </body>
</html>
